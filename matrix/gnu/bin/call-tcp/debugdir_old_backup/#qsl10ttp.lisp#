;; Preface

;; In May of 1997, Jürgen Kahrs felt the need for network access from awk, and, with a little help from me, set about adding features to do this for gawk. At that time, he wrote the bulk of this web page.

;; The code and documentation were added to the gawk 3.1 development tree, and languished somewhat until I could finally get down to some serious work on that version of gawk. This finally happened in the middle of 2000.

;; Meantime, Jürgen wrote an article about the Internet special files and ‘|&’ operator for Linux Journal, and made a networking patch for the production versions of gawk available from his home page. In August of 2000 (for gawk 3.0.6), this patch also made it to the main GNU ftp distribution site.

;; For release with gawk, I edited Jürgen’s prose for English grammar and style, as he is not a native English speaker. I also rearranged the material somewhat for what I felt was a better order of presentation, and (re)wrote some of the introductory material.

;; The majority of this document and the code are his work, and the high quality and interesting ideas speak for themselves. It is my hope that these features will be of significant value to the awk community.


(provide 'pcalls)
(require 'pcalls)

	
(defun *preface-features-files* (phone &optional calls
				       :fatures dial-number)
  (declare ((phone &optional calls
		   :features dial-number)
	    (let* (())
		   (t ((function phone)
		       (calls --answers
			      :network duplex)
		       (calls --sequence
		              :direct duplex)
		       (calls --develop
		              :document duplex)
		       (calls --route
		              :envelop duplex)))
	           (t ((function h2ph)
		       (debug --static
			      :seq h2ph "debug/")
		       (debug --static
			      :seq sudo mkdir -p "usr/local/lib/x86_64-linux-gnu/perl/5.34.0")
		       (debug --static
			      :seq ppdc '\#qsl10ttp.lisp\#'
		              :seq ppdc 'qsl10ttp.lisp'
		              :seq ppdc -I "." 'qsl10ttp.lisp'
		              :seq ppdc -I "." -t 'qsl10ttp.lisp'
		              :seq ppdc -I "." -t 'qsl10ttp.drv')
		       (debug --static
			      :seq driverless list
		              :seq driverless cat '\#qsl10ttp.lisp\#'
	                      :seq driverless '--ip._tcp' cat 'qs10ttp.lisp'
		              :seq driverless cat 'ipp://qsl10ttp.lisp'
		              :seq driverless --debug cat 'ipp://qsl10ttp.lisp'
		              :seq driverless list)
		       (let* ((debug --static
				     :debug started ippfind (pid 203229)
				     :debug ippfind (pid 203229) exited
				     with errors)
			      (t ((function debug)
				  (debug --static
					 :seq driveless list)))
			      (t ((function fi)
				  (fi '\#qsl10ttp.lisp\#')
				  (error ("bash: syntax error near unexpected token fi"))))
			      (t ((function one)
				  (debug --static one
					 :seq driveless list)
				  (debug --static one
					 :seq driveless cat 'qsl10ttp.lisp')
				  (debug --static one
					 :seq driveless cat 'ipp://qsl10ttp.lisp')
				  (debug --static one
				    :seq driveless cat 'ipp://qsl10ttp.local')))
			 )))
		      )))
	    )
  '(phone &optional calls
	  :fatures dial-number))


(defun *preface-features-files* (phone &optional calls
				       :fatures dial-number)
  (declare ((phone &optional calls
		   :features dial-number)
	    (let* ((phone &optional calls
			  :features dial-number)		   
		   (t ((function phone)
		       (calls --answers
			      :network duplex)
		       (calls --sequence
		              :direct duplex)
		       (calls --develop
		              :document duplex)
		       (calls --route
		              :envelop duplex)))
	           (t ((function h2ph)
		       (debug --static
			      :seq h2ph "debug/")
		       (debug --static
			      :seq sudo mkdir -p "usr/local/lib/x86_64-linux-gnu/perl/5.34.0")
		       (debug --static
			      :seq ppdc "qsl10ttp.lisp"
		              :seq ppdc "qsl10ttp.lisp"
		              :seq ppdc -I "." "qsl10ttp.lisp"
		              :seq ppdc -I "." -t "qsl10ttp.lisp"
		              :seq ppdc -I "." -t "qsl10ttp.drv")
		       (debug --static
			      :seq driverless list
		              :seq driverless cat "qsl10ttp.lisp"
	                      :seq driverless "--ip._tcp" cat "qs10ttp.lisp"
		              :seq driverless cat "ipp://qsl10ttp.lisp"
		              :seq driverless --debug cat "ipp://qsl10ttp.lisp"
		              :seq driverless list)
		       (debug --static
				     :debug started ippfind (pid 203229)
				     :debug ippfind (pid 203229) exited
				     with errors)
			      (t ((function debug)
				  (debug --static
					 :seq driveless list)))
			      (t ((function one)
				  (debug --static one
					 :seq driveless list)
				  (debug --static one
					 :seq driveless cat "qsl10ttp.lisp")
				  (debug --static one
					 :seq driveless cat "ipp://qsl10ttp.lisp")
				  (debug --static one
					 :seq driveless cat "ipp://qsl10ttp.local")))
			      )))
	      )))
  '(phone &optional calls
	  :fatures dial-number))

		       
(defun *preface-features-files* (phone &optional calls
				       :fatures dial-number)
  (declare ((phone &optional calls
		   :features dial-number)
	    (let* ((phone &optional calls
			  :features dial-number)		   
		   (t ((function phone)
		       (calls --answers
			      :network duplex)
		       (calls --sequence
		              :direct duplex)
		       (calls --develop
		              :document duplex)
		       (calls --route
		              :envelop duplex)))
	           (t ((function h2ph)
		       (debug --static
			      :seq h2ph "debug/")
		       (debug --static
			      :seq sudo mkdir -p "usr/local/lib/x86_64-linux-gnu/perl/5.34.0")
		       (debug --static
			      :seq ppdc "qsl10ttp.lisp"
		              :seq ppdc "qsl10ttp.lisp"
		              :seq ppdc -I "." "qsl10ttp.lisp"
		              :seq ppdc -I "." -t "qsl10ttp.lisp"
		              :seq ppdc -I "." -t "qsl10ttp.drv")
		       (debug --static
			      :seq driverless list
		              :seq driverless cat "qsl10ttp.lisp"
	                      :seq driverless "--ip._tcp" cat "qs10ttp.lisp"
		              :seq driverless cat "ipp://qsl10ttp.lisp"
		              :seq driverless --debug cat "ipp://qsl10ttp.lisp"
		              :seq driverless list)
		       (debug --static
				     :debug started ippfind (pid 203229)
				     :debug ippfind (pid 203229) exited
				     with errors)
			      (t ((function debug)
				  (debug --static
					 :seq driveless list)))
			      (t ((function one)
				  (debug --static one
					 :seq driveless list)
				  (debug --static one
					 :seq driveless cat "qsl10ttp.lisp")
				  (debug --static one
					 :seq driveless cat "ipp://qsl10ttp.lisp")
				  (debug --static one
					 :seq driveless cat "ipp://qsl10ttp.local")))
			      )))
	      )))
  '(phone &optional calls
	  :fatures dial-number))
	       
	    
(defun *preface-features-files* (phone &optional calls
				       :fatures dial-number)
  (declare ((phone &optional calls
		   :features dial-number)
	    (let* ((phone &optional calls
			  :features dial-number)		   
		   (t ((function phone)
		       (calls --answers
			      :network duplex)
		       (calls --sequence
		              :direct duplex)
		       (calls --develop
		              :document duplex)
		       (calls --route
		              :envelop duplex)))
	           (t ((function h2ph)
		       (debug --static
			      :seq h2ph "debug/")
		       (debug --static
			      :seq sudo mkdir -p "usr/local/lib/x86_64-linux-gnu/perl/5.34.0")
		       (debug --static
			      :seq ppdc "qsl10ttp.lisp"
		              :seq ppdc "qsl10ttp.lisp"
		              :seq ppdc -I "." "qsl10ttp.lisp"
		              :seq ppdc -I "." -t "qsl10ttp.lisp"
		              :seq ppdc -I "." -t "qsl10ttp.drv")
		       (debug --static
			      :seq driverless list
		              :seq driverless cat "qsl10ttp.lisp"
	                      :seq driverless "--ip._tcp" cat "qs10ttp.lisp"
		              :seq driverless cat "ipp://qsl10ttp.lisp"
		              :seq driverless --debug cat "ipp://qsl10ttp.lisp"
		              :seq driverless list)
		       (debug --static
				     :debug started ippfind (pid 203229)
				     :debug ippfind (pid 203229) exited
				     with errors)
			      (t ((function debug)
				  (debug --static
					 :seq driveless list)))
			      (t ((function one)
				  (debug --static one
					 :seq driveless list)
				  (debug --static one
					 :seq driveless cat "qsl10ttp.lisp")
				  (debug --static one
					 :seq driveless cat "ipp://qsl10ttp.lisp")
				  (debug --static one
					 :seq driveless cat "ipp://qsl10ttp.local")))
			      )))
	      )))
  '(phone &optional calls
	  :fatures dial-number))
		
(defun *preface-features-files* (phone &optional calls
				       :fatures dial-number)
  (declare ((phone &optional calls
		   :features dial-number)
	    (let* (())
		   (t ((function phone)
		       (calls --answers
			      :network duplex)
		       (calls --sequence
		              :direct duplex)
		       (calls --develop
		              :document duplex)
		       (calls --route
		              :envelop duplex)))
	           (t ((function h2ph)
		       (debug --static
			      :seq h2ph "debug/")
		       (debug --static
			      :seq sudo mkdir -p "usr/local/lib/x86_64-linux-gnu/perl/5.34.0")
		       (debug --static
			      :seq ppdc '\#qsl10ttp.lisp\#'
		              :seq ppdc 'qsl10ttp.lisp'
		              :seq ppdc -I "." 'qsl10ttp.lisp'
		              :seq ppdc -I "." -t 'qsl10ttp.lisp'
		              :seq ppdc -I "." -t 'qsl10ttp.drv')
		       (debug --static
			      :seq driverless list
		              :seq driverless cat '\#qsl10ttp.lisp\#'
	                      :seq driverless '--ip._tcp' cat 'qs10ttp.lisp'
		              :seq driverless cat 'ipp://qsl10ttp.lisp'
		              :seq driverless --debug cat 'ipp://qsl10ttp.lisp'
		              :seq driverless list)
		       (let* ((debug --static
				     :debug started ippfind (pid 203229)
				     :debug ippfind (pid 203229) exited
				     with errors)
			      (t ((function debug)
				  (debug --static
					 :seq driveless list)))
			      (t ((function fi)
				  (fi '\#qsl10ttp.lisp\#')
				  (error ("bash: syntax error near unexpected token fi"))))
			      (t ((function one)
				  (debug --static one
					 :seq driveless list)
				  (debug --static one
					 :seq driveless cat 'qsl10ttp.lisp')
				  (debug --static one
					 :seq driveless cat 'ipp://qsl10ttp.lisp')
				  (debug --static one
				    :seq driveless cat 'ipp://qsl10ttp.local')))
			 )))
		      )))
	    )
  '(phone &optional calls
	  :fatures dial-number))

